\hypertarget{class_a_d9835}{
\section{AD9835 Class Reference}
\label{class_a_d9835}\index{AD9835@{AD9835}}
}


Interface class for the AD9835.  




{\ttfamily \#include $<$AD9835.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_a_d9835_afe01ac229ed5836ba172cabeb40f4ca2}{AD9835} (const int pinFSYNC, const int pinSCLK, const int pinSDATA, const int pinFSEL, const int pinPSEL1, const int pinPSEL0, const unsigned long hzMasterClockFrequency)
\begin{DoxyCompactList}\small\item\em Constructor for the \hyperlink{class_a_d9835}{AD9835} class. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}{begin} ()
\begin{DoxyCompactList}\small\item\em Initialise the \hyperlink{class_a_d9835}{AD9835}. \end{DoxyCompactList}\item 
\hypertarget{class_a_d9835_a8e6ec0591eac9218c379fadfacaf41af}{
void \hyperlink{class_a_d9835_a8e6ec0591eac9218c379fadfacaf41af}{end} ()}
\label{class_a_d9835_a8e6ec0591eac9218c379fadfacaf41af}

\begin{DoxyCompactList}\small\item\em Disables the \hyperlink{class_a_d9835}{AD9835}. \end{DoxyCompactList}\item 
\hypertarget{class_a_d9835_a6434f761a4353f0483c5d08191400f8c}{
void \hyperlink{class_a_d9835_a6434f761a4353f0483c5d08191400f8c}{enable} ()}
\label{class_a_d9835_a6434f761a4353f0483c5d08191400f8c}

\begin{DoxyCompactList}\small\item\em Enables the output of the \hyperlink{class_a_d9835}{AD9835}. \end{DoxyCompactList}\item 
\hypertarget{class_a_d9835_ac9f727d658e71b63fec2a81eb60fc82b}{
void \hyperlink{class_a_d9835_ac9f727d658e71b63fec2a81eb60fc82b}{disable} ()}
\label{class_a_d9835_ac9f727d658e71b63fec2a81eb60fc82b}

\begin{DoxyCompactList}\small\item\em Disables the output of the \hyperlink{class_a_d9835}{AD9835}. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_a69fed84e2d0491ec55a52fd2931d89b5}{setFrequencyCode} (byte frequencyRegister, unsigned long fcodeFrequency)
\begin{DoxyCompactList}\small\item\em Sets a frequency register of the \hyperlink{class_a_d9835}{AD9835} to some frequency code. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_a9ab0533b29eb79e5106540802b406586}{setFrequencyHz} (byte frequencyRegister, unsigned long hzFrequency)
\begin{DoxyCompactList}\small\item\em Wrapper for setFrequencyCode. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_a423c2ddd038660e60a910e3c94e77c74}{selectFrequencyRegister} (byte frequencyRegister)
\begin{DoxyCompactList}\small\item\em Select the frequency register to be used. \end{DoxyCompactList}\item 
unsigned long \hyperlink{class_a_d9835_ad4a64d42b806f67e57eb37db913e3873}{calculateFrequencyCodeHz} (unsigned long hzFrequency)
\begin{DoxyCompactList}\small\item\em Converts a frequency in Hertz to a frequency code. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_a8ed5f2a122cc1820e3f90b24bceba02f}{setPhaseCode} (byte phaseRegister, unsigned long pcodePhase)
\begin{DoxyCompactList}\small\item\em Sets a phase register of the \hyperlink{class_a_d9835}{AD9835} to some phase code. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_aef6909397bd5e3b9ba25e412ba0c59b0}{setPhaseDeg} (byte phaseRegister, int degPhase)
\begin{DoxyCompactList}\small\item\em Wrapper for setPhaseCode. \end{DoxyCompactList}\item 
void \hyperlink{class_a_d9835_a282b2fec8aed40a0484636487df3c2b4}{selectPhaseRegister} (byte phaseRegister)
\begin{DoxyCompactList}\small\item\em Select the phase register to be activated. \end{DoxyCompactList}\item 
unsigned long \hyperlink{class_a_d9835_a18b0df58efdb5ba15ffc406f299f869c}{calculatePhaseCodeDeg} (unsigned long degPhase)
\begin{DoxyCompactList}\small\item\em Converts a phase in degrees to a phase code. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interface class for the AD9835. \begin{Desc}
\item[Examples: ]\par


\hyperlink{_fixed_8pde-example}{Fixed.pde}.

\end{Desc}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_a_d9835_afe01ac229ed5836ba172cabeb40f4ca2}{
\index{AD9835@{AD9835}!AD9835@{AD9835}}
\index{AD9835@{AD9835}!AD9835@{AD9835}}
\subsubsection[{AD9835}]{\setlength{\rightskip}{0pt plus 5cm}AD9835::AD9835 (
\begin{DoxyParamCaption}
\item[{const int}]{pinFSYNC, }
\item[{const int}]{pinSCLK, }
\item[{const int}]{pinSDATA, }
\item[{const int}]{pinFSEL, }
\item[{const int}]{pinPSEL1, }
\item[{const int}]{pinPSEL0, }
\item[{const unsigned long}]{hzMasterClockFrequency}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_afe01ac229ed5836ba172cabeb40f4ca2}


Constructor for the \hyperlink{class_a_d9835}{AD9835} class. 

This constructor records the pin assignments used in preparation for their setup in \hyperlink{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}{begin()}.


\begin{DoxyParams}{Parameters}
{\em pinFSYNC} & The IO pin connected to the FSYNC pin of the \hyperlink{class_a_d9835}{AD9835}. \\
\hline
{\em pinSCLK} & The IO pin connected to the SPI clock of the \hyperlink{class_a_d9835}{AD9835}. \\
\hline
{\em pinSDATA} & The IO pin connected to the SPI data pin of the \hyperlink{class_a_d9835}{AD9835}.\\
\hline
{\em pinFSEL} & The IO pin connected to the frequency select pin of the \hyperlink{class_a_d9835}{AD9835}.\\
\hline
{\em pinPSEL1} & The IO pin connected to phase select pin one of the \hyperlink{class_a_d9835}{AD9835}. \\
\hline
{\em pinPSEL0} & The IO pin connected to phase select pin zero of the \hyperlink{class_a_d9835}{AD9835}.\\
\hline
{\em hzMasterClockFrequency} & The frequency of the \hyperlink{class_a_d9835}{AD9835} master clock in Hz.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}{AD9835::begin} 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\hypertarget{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}{
\index{AD9835@{AD9835}!begin@{begin}}
\index{begin@{begin}!AD9835@{AD9835}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}


Initialise the \hyperlink{class_a_d9835}{AD9835}. 

The \hyperlink{class_a_d9835_abd6cd79aa94760c1bfbb86d77dc493d6}{AD9835::begin} method sets pin modes and clears the state of the \hyperlink{class_a_d9835}{AD9835}. \begin{Desc}
\item[Examples: ]\par
\hyperlink{_fixed_8pde-example}{Fixed.pde}.\end{Desc}
\hypertarget{class_a_d9835_ad4a64d42b806f67e57eb37db913e3873}{
\index{AD9835@{AD9835}!calculateFrequencyCodeHz@{calculateFrequencyCodeHz}}
\index{calculateFrequencyCodeHz@{calculateFrequencyCodeHz}!AD9835@{AD9835}}
\subsubsection[{calculateFrequencyCodeHz}]{\setlength{\rightskip}{0pt plus 5cm}unsigned long AD9835::calculateFrequencyCodeHz (
\begin{DoxyParamCaption}
\item[{unsigned long}]{hzFrequency}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_ad4a64d42b806f67e57eb37db913e3873}


Converts a frequency in Hertz to a frequency code. 


\begin{DoxyParams}{Parameters}
{\em hzFrequency} & The frequency to be converted.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The frequency code of the desired frequency.
\end{DoxyReturn}
\begin{Desc}
\item[\hyperlink{todo__todo000001}{Todo}]There is an off-\/by-\/one error here as we have rounded the frequency code down, rather than selecting the nearest. \end{Desc}
\hypertarget{class_a_d9835_a18b0df58efdb5ba15ffc406f299f869c}{
\index{AD9835@{AD9835}!calculatePhaseCodeDeg@{calculatePhaseCodeDeg}}
\index{calculatePhaseCodeDeg@{calculatePhaseCodeDeg}!AD9835@{AD9835}}
\subsubsection[{calculatePhaseCodeDeg}]{\setlength{\rightskip}{0pt plus 5cm}unsigned long AD9835::calculatePhaseCodeDeg (
\begin{DoxyParamCaption}
\item[{unsigned long}]{degPhase}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a18b0df58efdb5ba15ffc406f299f869c}


Converts a phase in degrees to a phase code. 


\begin{DoxyParams}{Parameters}
{\em degPhase} & The phase to be converted.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The phase code of the desired phase.
\end{DoxyReturn}
\begin{Desc}
\item[\hyperlink{todo__todo000002}{Todo}]There is an off-\/by-\/one error here as we have rounded the frequency code down, rather than selecting the nearest. \end{Desc}
\hypertarget{class_a_d9835_a423c2ddd038660e60a910e3c94e77c74}{
\index{AD9835@{AD9835}!selectFrequencyRegister@{selectFrequencyRegister}}
\index{selectFrequencyRegister@{selectFrequencyRegister}!AD9835@{AD9835}}
\subsubsection[{selectFrequencyRegister}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::selectFrequencyRegister (
\begin{DoxyParamCaption}
\item[{byte}]{frequencyRegister}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a423c2ddd038660e60a910e3c94e77c74}


Select the frequency register to be used. 

The selectFrequencyRegister sets the FSEL pin to the desired value, thereby setting the output frequency to that set via setFrequencyCode.

\begin{DoxySeeAlso}{See also}
\hyperlink{class_a_d9835_a69fed84e2d0491ec55a52fd2931d89b5}{setFrequencyCode} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples: ]\par
\hyperlink{_fixed_8pde-example}{Fixed.pde}.\end{Desc}
\hypertarget{class_a_d9835_a282b2fec8aed40a0484636487df3c2b4}{
\index{AD9835@{AD9835}!selectPhaseRegister@{selectPhaseRegister}}
\index{selectPhaseRegister@{selectPhaseRegister}!AD9835@{AD9835}}
\subsubsection[{selectPhaseRegister}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::selectPhaseRegister (
\begin{DoxyParamCaption}
\item[{byte}]{phaseRegister}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a282b2fec8aed40a0484636487df3c2b4}


Select the phase register to be activated. 

The selectPhaseRegister drives the PSEL0 and PSEL1 pins of the \hyperlink{class_a_d9835}{AD9835}, thereby setting the output phase to that set via setPhaseCode.

\begin{DoxySeeAlso}{See also}
\hyperlink{class_a_d9835_a8ed5f2a122cc1820e3f90b24bceba02f}{setPhaseCode} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples: ]\par
\hyperlink{_fixed_8pde-example}{Fixed.pde}.\end{Desc}
\hypertarget{class_a_d9835_a69fed84e2d0491ec55a52fd2931d89b5}{
\index{AD9835@{AD9835}!setFrequencyCode@{setFrequencyCode}}
\index{setFrequencyCode@{setFrequencyCode}!AD9835@{AD9835}}
\subsubsection[{setFrequencyCode}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::setFrequencyCode (
\begin{DoxyParamCaption}
\item[{byte}]{frequencyRegister, }
\item[{unsigned long}]{fcodeFrequency}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a69fed84e2d0491ec55a52fd2931d89b5}


Sets a frequency register of the \hyperlink{class_a_d9835}{AD9835} to some frequency code. 


\begin{DoxyParams}{Parameters}
{\em frequencyRegister} & The register to be set (can be zero or one). \\
\hline
{\em fcodeFrequency} & The frequency code to be placed in the register. \\
\hline
\end{DoxyParams}
\hypertarget{class_a_d9835_a9ab0533b29eb79e5106540802b406586}{
\index{AD9835@{AD9835}!setFrequencyHz@{setFrequencyHz}}
\index{setFrequencyHz@{setFrequencyHz}!AD9835@{AD9835}}
\subsubsection[{setFrequencyHz}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::setFrequencyHz (
\begin{DoxyParamCaption}
\item[{byte}]{frequencyRegister, }
\item[{unsigned long}]{hzFrequency}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a9ab0533b29eb79e5106540802b406586}


Wrapper for setFrequencyCode. 

The setFrequencyHz calculates the frequency code corresponding to the frequency given (in Hertz) before calling setFrequencyCode.

Calculating the code is relatively slow, and so it is better to call calculateFrequencyCodeHz directly and cache the result where possible.


\begin{DoxyParams}{Parameters}
{\em frequencyRegister} & The register to be set (can be zero or one).\\
\hline
{\em HzFrequency} & The frequency (in Hertz) to be placed in the register.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_a_d9835_a69fed84e2d0491ec55a52fd2931d89b5}{setFrequencyCode} 

\hyperlink{class_a_d9835_ad4a64d42b806f67e57eb37db913e3873}{calculateFrequencyCodeHz} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples: ]\par
\hyperlink{_fixed_8pde-example}{Fixed.pde}.\end{Desc}
\hypertarget{class_a_d9835_a8ed5f2a122cc1820e3f90b24bceba02f}{
\index{AD9835@{AD9835}!setPhaseCode@{setPhaseCode}}
\index{setPhaseCode@{setPhaseCode}!AD9835@{AD9835}}
\subsubsection[{setPhaseCode}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::setPhaseCode (
\begin{DoxyParamCaption}
\item[{byte}]{phaseRegister, }
\item[{unsigned long}]{pcodePhase}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_a8ed5f2a122cc1820e3f90b24bceba02f}


Sets a phase register of the \hyperlink{class_a_d9835}{AD9835} to some phase code. 


\begin{DoxyParams}{Parameters}
{\em phaseRegister} & The register to be set (can be 0,1,2,3). \\
\hline
{\em pcodePhase} & The phase code to be placed in the register. \\
\hline
\end{DoxyParams}
\hypertarget{class_a_d9835_aef6909397bd5e3b9ba25e412ba0c59b0}{
\index{AD9835@{AD9835}!setPhaseDeg@{setPhaseDeg}}
\index{setPhaseDeg@{setPhaseDeg}!AD9835@{AD9835}}
\subsubsection[{setPhaseDeg}]{\setlength{\rightskip}{0pt plus 5cm}void AD9835::setPhaseDeg (
\begin{DoxyParamCaption}
\item[{byte}]{phaseRegister, }
\item[{int}]{degPhase}
\end{DoxyParamCaption}
)}}
\label{class_a_d9835_aef6909397bd5e3b9ba25e412ba0c59b0}


Wrapper for setPhaseCode. 

setPhaseDeg sets a phase register of the \hyperlink{class_a_d9835}{AD9835} to an angle given in degrees. This is slower than setPhaseCode, so using calculatePhaseCodeDeg directly and caching the result is desirable.


\begin{DoxyParams}{Parameters}
{\em phaseRegister} & The register to be set (can be 0,1,2,3). \\
\hline
{\em pcodePhase} & The phase (in degrees) to be placed in the register.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_a_d9835_a8ed5f2a122cc1820e3f90b24bceba02f}{setPhaseCode} 

\hyperlink{class_a_d9835_aef6909397bd5e3b9ba25e412ba0c59b0}{setPhaseDeg} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples: ]\par
\hyperlink{_fixed_8pde-example}{Fixed.pde}.\end{Desc}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
AD9835.h\item 
AD9835.cpp\end{DoxyCompactItemize}
